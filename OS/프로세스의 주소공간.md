# [OS] 프로세스의 주소 공간

상태: 완료 🙌
작성일시: 2022년 3월 3일 오전 6:23

## 1. 프로세스의 주소 공간(Process Address Space)

![Untitled 2](https://user-images.githubusercontent.com/45481007/156579864-2c2533cd-61fb-4dc0-badb-18576c1da48c.png)

프로그램은 CPU에 의해 실행되어 프로세스가 되고 memory에 저장이 됨

다음과 같은 공간으로 구분되어 있음

- 코드 부분
    - 프로그램의 코드가 저장됨
    - 읽기만 가능
- 데이터 부분
    - 전역변수 같은 데이터가 저장됨
    - 읽고 쓰기가 가능
- 스택 부분
    - 함수나 지역변수가 저장됨
    - 읽고 쓰기가 가능

Q. 코드 부분의 역할과 왜 읽기만 가능한지?

- 프로그램의 코드는 컴파일된 후에는 수정될 일이 없다. 그러므로 읽기만 가능
- 같은 프로그램을 여러 개 실행시킨다면 몇 개의 프로세스가 실행되더라도 프로그램의 코드는 모두 동일하므로 같은 프로그램의 프로세스라면 같은 코드는 공유하여 사용함

Q. 데이터 부분과 스택 부분의 역할

- 함수가 실행된다면 호출된 함수를 실행하고 다시 되돌아가야 하므로 스택 구조로 함수를 실행하고 지역변수는 호출된 함수에서만 사용하게 되므로 사용 후에는 사라지도록 스택에서 관리한다.
- 전역변수의 경우는 프로세스 내의 어떤 함수에서도 접근 가능해야 하므로 사용하고 사라지지 않고 어느 위치에서든 접근할 수 있도록 데이터 영역으로 따로 관리, 전역 변수를 매번 지역 변수로 선언하게 되면 매번 값이 사라지고 다시 생성하고 하므로 메모리의 낭비가 됨

![Untitled 1](https://user-images.githubusercontent.com/45481007/156579433-f9ce58e9-1508-46c8-a1c2-cd23d42bb33e.png)

- 위의 C언어 코드의 실행 순서는 다음과 같다
    
    ![Untitled](https://user-images.githubusercontent.com/45481007/156579728-4e17612f-f6af-4c1d-8b00-0dfc38917a93.png)
    
    - main 함수 실행
    - “I” 출력
    - func 1 실행
    - “like” 출력
    - main으로 복귀
    - “C” 출력
    - func2 실행
    - “program” 출력
    - func3 실행
    - “!!!” 출력
    - func2 복귀
    - main 복귀
    - 종료
