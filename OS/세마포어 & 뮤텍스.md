# 세마포어 & 뮤텍스

**임계 구역(Critical Section)**

-   프로그램 코드 상에서 공유 자원에 접근하는 부분
-   임계구역으로 지정되어야 할 코드가 지정되지 않았을 때를 임계구역 문제라 함

**임계구역 문제 해결 조건**

-   **상호 배제(Mutual Exclusion)**
    가장 중요한 조건이다. 한 프로세스만 임계 구역을 사용해야 한다는 조건.
    "한 프로세스가 임계 구역에 들어가면 다른 프로세스는 임계 구역에 들어갈 수 없어야 한다."
    해당 조건이 지켜지지 않으면 경쟁 조건에 빠지게 된다.
    [ 임계 영역 보호 ]
-   **한정 대기(Bounded Waiting)**
    특정 프로세스가 무한히 대기해서는 안된다는 것이다.
    임계구역에 대한 요청이 허용될 때까지 다른 프로세스들이 임계 구역에 진입할 수 있는 횟수에 한계가 있어야 한다는 것이다. [ 그래야만 다른 프로세스가 한정적으로 대기하게 된다. ]
    [ 특정 프로세스가 기아(Starvation) 상태에 빠지는 것을 방지한다. ]
-   **진행의 융통성(Progress flexibility)**
    임계 구역이 비어있는 경우, 임계 구역을 대기(실행 X)하던 프로세스들만 해당 임계 구역으로 진입할 수 있는 결정에 참여 가능하다. 해당 선택은 결정으로 인해 무한정 연기되어서는 안 된다.
    한 프로세스가 다른 프로세스의 진행을 방해해서는 안된다는 것이다.
    [ 교착상태가 일어나서는 안된다는 것을 의미한다. ]

**세마포어(Semaphore)**

-   공유 자원에 여러 프로세스가 접근하는 것을 막는 것
-   막기 위해서 현재 공유 자원의 상태를 나타내는 카운터 변수를 사용
-   운영체제 혹은 커널에 값으로 저장
-   뮤텍스와 달리 이진수 이외 더 큰 숫자를 가지게 할 수도 있어서 꼭 1개의 프로세스만이 자원을 점유하는 것은 아님
-   카운터 변수의 값이 해당 공유 자원에 접근할 수 있는 임계치가 되며 이를 조정하여 접근할 수 있는 프로세스의 개수를 통제

![Untitled](https://user-images.githubusercontent.com/55469012/157611734-038c0f4b-4a37-435d-bdab-3e0b95a9c7bc.png)

**뮤텍스(Mutex)**

-   공유 자원에 여러 쓰레드가 접근하는 것을 막는 것
-   다중 프로세스들이 접근 막기 위해 Lock, Unlock
-   여러 쓰레드가 동시에 사용 불가능
-   이진 세마포어랑 같은 개념

![Untitled 1](https://user-images.githubusercontent.com/55469012/157611673-05fdf30b-5f9f-48d3-97a3-31803c2c93b9.png)

참고

[https://ko.wikipedia.org/wiki/세마포어](https://ko.wikipedia.org/wiki/%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4)

[https://sycho-lego.tistory.com/11](https://sycho-lego.tistory.com/11)
